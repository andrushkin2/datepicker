!function(){var e=function(e,t,n,a,o){var i,r,s,l,u,c,d,h=this,m=document.body,g={mainContainer:null,myTab:null,leftButton:null,rightButton:null,centralPane:null,subCentralPane:null,monthContainer:null,yearContainer:null,timeContainer:null,subTimeContainer:null,timeText:null,hour:null,minutes:null,seconds:null,tContTable:null,zones:null,scheduler:null,subSchedulerContainer:null,calendar:null,tableHead:null,tableBody:null,entitySelect:null,buttonPanel:null,buttonNow:null,buttonDone:null},f=/Android|AppleWebKit|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/gim.test(navigator.userAgent.toLowerCase()),p="ontouchstart"in document.documentElement,y=!!window.navigator.msPointerEnabled,v=!!window.PointerEvent,C=f&&(v||y||p),b=function(){},S=function(e){var t,n=e.target;if(re()&&!n.datepicker){for(t=n;t!==m;){if(t===g.mainContainer)return void R(g.entitySelect,!1);t=t.parentNode}h.trigger("onHidePicker")}},w=function(){re()&&ie(g.mainContainer.inputElemntLast)},M=function(){if("string"==typeof e)i=m.querySelector("#"+e+"[type='text']");else if(e.jquery)i=e[0];else{if("object"!=typeof e)throw new Error("Undefined input element");i=e}if(!i)throw new Error("Undefined input element")},T=function(){g.mainContainer||(g.mainContainer=J("div",{"class":"datepicker_main_container"})),m.appendChild(g.mainContainer)},_=function(){g.myTab=J("div",{"class":"month_year_tab"}),g.mainContainer.appendChild(g.myTab),g.leftButton=J("button",{"class":"month_year_tab_button l_button"}),g.leftButton.innerHTML="&lt;",g.myTab.appendChild(g.leftButton),g.rightButton=J("button",{"class":"month_year_tab_button r_button"}),g.rightButton.innerHTML="&gt;",g.myTab.appendChild(g.rightButton),g.centralPane=J("div",{"class":"central_pane"}),g.myTab.appendChild(g.centralPane),g.subCentralPane=J("div",{"class":"central_pane_sub"}),g.centralPane.appendChild(g.subCentralPane),g.monthContainer=J("div",{"class":"central_pane_month"}),g.subCentralPane.appendChild(g.monthContainer),g.yearContainer=J("div",{"class":"central_pane_year"}),g.subCentralPane.appendChild(g.yearContainer)},k=function(e){if(g.entitySelect){q(g.entitySelect);var t,n,a,o,i,r=e.length,s=g.entitySelect.value,l=function(){var e,t,n=this.value,a=parseInt(n),o=isNaN(a),i=g.entitySelect.showingDate||He;if(n===g.entitySelect.value){if(!C)return;R(g.entitySelect,!1)}switch(g.entitySelect.entity){case"month":if(o){if(e=O(n,Ee.shortMonthNames.concat(Ee.monthNames)),null===e)return;g.entitySelect.value=e}else g.entitySelect.value=a;t=new Date(i.getFullYear(),g.entitySelect.value,i.getDate(),g.hour.value,g.minutes.value,g.seconds.value);break;case"year":if(o)return;g.entitySelect.value=a,t=new Date(g.entitySelect.value,i.getMonth(),i.getDate(),g.hour.value,g.minutes.value,g.seconds.value);break;default:return}R(g.entitySelect,!1),isNaN(t)||(Ee.changeDateOnClickNewYear&&"year"===g.entitySelect.entity?(ae(t),ie()):(te[Ee.type](t),ie()))};for(n=0;r>n;n++)t=e[n],o=t.toString()===s.toString(),a=J("div",{"class":"entity_child"+(o?" selected":"")},{value:t,onclick:l}),a.appendChild(J("span",{},{innerHTML:t})),g.entitySelect.appendChild(a),o&&(i=a);return i}},D=function(){g.buttonPanel=J("div",{"class":"button_panel"}),g.mainContainer.appendChild(g.buttonPanel),g.buttonNow=J("button",{"class":"button button_now"},{innerHTML:Ee.currentText}),g.buttonPanel.appendChild(g.buttonNow),g.buttonDone=J("button",{"class":"button button_done"},{innerHTML:Ee.closeText}),g.buttonPanel.appendChild(g.buttonDone)},N=function(){g.entitySelect=J("div",{"class":"entity_select hidden"}),g.mainContainer.appendChild(g.entitySelect)},H=function(){var e,t,n,a,o;for(g.timeContainer=J("div",{"class":"time_container"}),g.mainContainer.appendChild(g.timeContainer),g.subTimeContainer=J("div",{"class":"datepicker_time_container_sub"}),g.timeContainer.appendChild(g.subTimeContainer),g.tContTable=J("table",{"class":"t_cont_table"}),g.subTimeContainer.appendChild(g.tContTable),g.timeText=J("span",{"class":"t_cont_time_text"}),g.hour=J("select",{"class":"select datepicker_time_hour"}),g.minutes=J("select",{"class":"select datepicker_time_minutes"}),g.seconds=J("select",{"class":"select datepicker_time_seconds"}),g.zones=J("select",{"class":"select datepicker_time_zones"}),e=[g.timeText,g.hour,g.minutes,g.seconds,g.zones],o=0;5>o;o++){switch(t=J("tr",{"class":"t_cont_table_row"}),o){case 0:I(t,"time"),a=J("td",{"class":"descr"},{innerHTML:Ee.timeText}),n=J("td",{"class":"controls"}),n.appendChild(e[o]);break;case 1:I(t,"hours"),a=J("td",{"class":"descr"},{innerHTML:Ee.hourText}),n=J("td",{"class":"controls"}),n.appendChild(e[o]);break;case 2:I(t,"minutes"),a=J("td",{"class":"descr"},{innerHTML:Ee.minutesText}),n=J("td",{"class":"controls"}),n.appendChild(e[o]);break;case 3:I(t,"seconds"),a=J("td",{"class":"descr"},{innerHTML:Ee.secondsText}),n=J("td",{"class":"controls"}),n.appendChild(e[o]);break;case 4:I(t,"zones"),a=J("td",{"class":"descr"},{innerHTML:Ee.zoneText}),n=J("td",{"class":"controls"}),n.appendChild(e[o])}t.appendChild(a),t.appendChild(n),g.tContTable.appendChild(t)}},L=function(){g.scheduler=J("div",{"class":"scheduler"}),g.mainContainer.appendChild(g.scheduler),g.subSchedulerContainer=J("div",{"class":"scheduler_sub"}),g.scheduler.appendChild(g.subSchedulerContainer),g.calendar=J("table",{"class":"scheduler_calendar"}),g.subSchedulerContainer.appendChild(g.calendar),g.tableHead=J("thead",{"class":"calendar_header",align:"center"}),g.calendar.appendChild(g.tableHead),g.tableBody=J("tbody",{"class":"calendar_body",align:"center"}),P(g.tableBody),g.calendar.appendChild(g.tableBody)},P=function(e){var t,n,a,o;for(t=0;6>t;t++){for(a=J("tr",{"class":t+1===6?"datepicker_scheduler_calendar_body_last_row":""}),n=0;7>n;n++)o=J("td",{"data-day":"","data-month":"","data-year":""}),a.appendChild(o);e.appendChild(a)}},x=function(e){return 33-new Date(e.getFullYear(),e.getMonth(),33).getDate()},E=function(){var e=new Date(this["data-year"],this["data-month"],this["data-day"],g.hour.value,g.minutes.value,g.seconds.value);te[Ee.type](e),ie()},F=function(){var e=He||xe,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),parseInt(g.hour.value),parseInt(g.minutes.value),parseInt(g.seconds.value));isNaN(t)||ae(t,function(){h.trigger("onChange")})},B=function(e){e.stopPropagation(),V(g.entitySelect)&&R(g.entitySelect,!1)},O=function(e,t){var n=null;return(t||[]).forEach(function(t,a){t.toLowerCase()===e.toLowerCase()&&(n=a>11?a-12:a)}),n},Y=function(){return{toStringFormat:n,fromStringFormat:a}}(),I=function(e,t){if("classList"in document.documentElement)e.classList.add(t);else{var n=new RegExp("\\s?"+t,"gim"),a=e.attributes.getNamedItem("class");a?n.test(a.textContent)||(a.textContent+=" "+t):e.setAttribute("class",t)}},A=function(e,t){var n,a=e.style;for(n in t)t.hasOwnProperty(n)&&(a[n]=t[n])},j=function(e,t,n){var a,o,i=t.length,r=function(e){var t=parseInt(e),n=(13>t?e:e-12)+(12>t?" AM":" PM");return 0===t&&(n+=" (12 AM)"),n};for(a=0;i>a;a++)o=J("option",{"class":"select_option",value:t[a]},{innerHTML:n?r(t[a],n):t[a]}),e.appendChild(o)},q=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},U=function(e){var t,n,a,o=[],i=2e3;if(le(e))for(n=e.length,t=0;n>t;t++)o.push(e[t].toString());else{if(/c/.test(e))for(e=e.replace(/c/gim,""),a=e.split(":"),t=0;2>t;t++)/-/.test(a[t])?(a[t]=parseInt(a[t].replace("-","")),a[t]=i-(a[t]||0)):(a[t]=parseInt(a[t].replace("+","")),a[t]=i+(a[t]||0));else for(a=e.split(":"),t=0;2>t;t++)a[t]=parseInt(a[t]);if(a[0]>a[1]){var r=a[0];a[0]=a[1],a[1]=r}for(t=a[0];t<=a[1];t++)o.push(t.toString())}if(!o.length)throw new Error("Unknown range of year!\r\nCheck your datepicker options");return o},z=function(e){var t,n,a=[],o=1;if(le(e))for(n=e.length,t=0;n>t;t++)a.push(Ee.monthNames[e[t]-1]);else if(!isNaN(parseInt(e)))for(n=Ee.monthNames.length,e>1&&(o=parseInt(e)),t=0;n>t;t+=o)a.push(Ee.monthNames[t]);if(!a.length)throw new Error("Unknown range of year!\r\nCheck your datepicker options");return a},W=function(e,t){var n,a=1,o=[];if(le(e)){var i=e.length;for(t&&(a=t),n=0;i>n;n+=a)o.push(e[n])}return o},R=function(e,t){e&&(t=void 0===t?!0:t,t?(I(e,"shown"),Z(e,"hidden")):(I(e,"hidden"),Z(e,"shown")))},J=function(e,t,n){var a,o=document.createElement(e);for(a in t)t.hasOwnProperty(a)&&o.setAttribute(a,t[a]);for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);return o},Z=function(e,t){if(e.classList)e.classList.remove(t);else{var n,a=new RegExp("\\s?"+t,"gim"),o=e.attributes.getNamedItem("class");o&&(n=o.textContent.replace(a,""),e.setAttribute("class",n))}},K=function(e,t){if(e.classList)return e.classList.contains(t);var n=new RegExp("\\s?"+t,"gim"),a=e.attributes.getNamedItem("class");return a?n.test(a.textContent):!1},V=function(e){return K(e,"shown")},G=function(e){e.stopPropagation()},Q=function(e){var t=e?"add":"remove";m[t+"EventListener"]("click",S),g.mainContainer[t+"EventListener"]("click",B),window[t+"EventListener"]("resize",w),g.entitySelect[t+"EventListener"]("mousewheel",G),g.entitySelect[t+"EventListener"]("scroll",G)},X=function(){var e=this["data-day"],t=this["data-month"],n=this["data-year"],a=new Date(n,t,e,g.hour.value,g.minutes.value,g.seconds.value);ae(a,function(){h.trigger("onChange")})},$=function(e){var t,n=Y.toStringFormat(He,Ee[Ee.type+"Format"]),a=i.value;n!==a&&(e?(t=Y.fromStringFormat(a,Ee[Ee.type+"Format"]),t&&!isNaN(t)&&null!==t&&(t=ne(t),null!==t&&ae(t,function(){h.trigger("onChange")}))):i.value=n)},ee=function(){R(g.buttonPanel,Ee.showButtonPanel),R(g.buttonNow,Ee.showNowButton),g.buttonDone.onclick=function(){oe()},g.buttonNow.onclick=function(){var e=ne(o(new Date));ae(e,function(){h.trigger("onChange")})}},te=function(){return{date:function(e){var t,n,a,o,i,r,s,l,u,h,m,f,p=xe,y=He,v=e||null,S=function(e,t,n,a,o){return function(e){var i,r,s,l=g.mainContainer.getBoundingClientRect().height;e.stopPropagation(),g.entitySelect.showingDate=o,g.entitySelect.value=n,g.entitySelect.entity=t,s=k(a),i=g.entitySelect.childElementCount,R(g.entitySelect),r=g.entitySelect.firstChild.offsetHeight*i,A(g.entitySelect,{top:"0px",left:this.offsetLeft+this.offsetParent.offsetLeft+"px"}),r>l?(I(g.entitySelect,"overflow_y"),s&&(s.scrollIntoView(!0),g.entitySelect.scrollTop=s.offsetTop)):Z(g.entitySelect,"overflow_y"),C||(g.entitySelect.onmouseenter=function(){g.entitySelect.onmouseleave=function(){R(this,!1)}})}},w=1,M=Ee.minDayNames.length,T=J("tr");for($(),ee(),R(g.timeContainer,!1),R(g.myTab),R(g.scheduler),v||(v=y?y:p),r=Ee.monthNames[v.getMonth()],s=v.getMonth(),l=v.getFullYear(),o=new Date(l,s,1).getDay(),Ee.startWeekOnMonday&&(o=0===o?6:o-1),i=x(v),n=g.tableBody.querySelectorAll("td"),q(g.tableHead),h=Ee.startWeekOnMonday?Ee.minDayNames.slice(1):Ee.minDayNames,Ee.startWeekOnMonday&&h.push(Ee.minDayNames[0]),u=0;M>u;u++)_=J("td",{},{innerHTML:h[u]}),T.appendChild(_);for(g.tableHead.appendChild(T),g.monthContainer.innerHTML=r,g.yearContainer.innerHTML=l,Ee.selectingMonth?(g.monthContainer.onclick=S(g.monthContainer,"month",r,c,v),I(g.monthContainer,"hover")):(g.monthContainer.onclick=b,Z(g.monthContainer,"hover")),Ee.selectingYear?(g.yearContainer.onclick=S(g.yearContainer,"year",l.toString(),d,v),I(g.yearContainer,"hover")):(g.yearContainer.onclick=b,Z(g.yearContainer,"hover")),m=ne(new Date(0===s?l-1:l,0===s?11:s-1,1,v.getHours(),v.getMinutes(),v.getSeconds()),!0),g.leftButton.title=Ee.monthNames[m.getMonth()]+" "+m.getFullYear(),g.leftButton["data-day"]=g.rightButton["data-day"]=1,g.leftButton["data-month"]=m.getMonth(),g.leftButton["data-year"]=m.getFullYear(),g.leftButton.onclick=E,g.rightButton.onclick=E,f=ne(new Date(11===s?l+1:l,11===s?0:s+1,1,v.getHours(),v.getMinutes(),v.getSeconds()),!1),g.rightButton.title=Ee.monthNames[f.getMonth()]+" "+f.getFullYear(),g.rightButton["data-month"]=f.getMonth(),g.rightButton["data-year"]=f.getFullYear(),u=0;u<n.length;u++){var _=n[u];_.setAttribute("class",""),o>u?Ee.showSiblingMonthsDays?(t=new Date(l,s,1-(o-u),12,0,0),_["data-day"]=t.getDate(),_["data-month"]=t.getMonth(),_["data-year"]=t.getFullYear(),_.onclick=X,_.innerHTML=t.getDate(),I(_,"number"),I(_,"grey")):(_.onclick=b,_.innerHTML="",_["data-day"]="",_["data-month"]="",_["data-year"]="",I(_,"space")):i>=w?(_.onclick=X,_.innerHTML=w,_["data-day"]=w,_["data-month"]=s,_["data-year"]=l,I(_,"number"),y&&!isNaN(y)&&w===y.getDate()?s===y.getMonth()&&l===y.getFullYear()&&I(_,"selected_date"):isNaN(p)||w!==p.getDate()||s===p.getMonth()&&l===p.getFullYear()&&I(_,"today_date"),w++):Ee.showSiblingMonthsDays?(t=new Date(l,s,w,12,0,0),_["data-day"]=t.getDate(),_["data-month"]=t.getMonth(),_["data-year"]=t.getFullYear(),_.onclick=X,_.innerHTML=t.getDate(),I(_,"number"),I(_,"grey"),w++):(_.onclick=b,_.innerHTML="",_["data-day"]="",_["data-month"]="",_["data-year"]="",I(_,"space"))}return Ee.showSiblingMonthsDays||(a=g.tableBody.querySelector("tr.datepicker_scheduler_calendar_body_last_row"),a.querySelectorAll(".space").length<7?a.style.display="table-row":a.style.display="none"),!0},time:function(){var e,t,n,a=/\s?(tt|t|TT|T)\s?/.exec(Ee.timeFormat);return $(),ee(),R(g.timeContainer),R(g.myTab,!1),R(g.scheduler,!1),Ee.showSeconds?Z(g.tContTable.querySelector(".t_cont_table_row.seconds"),"hidden"):I(g.tContTable.querySelector(".t_cont_table_row.seconds"),"hidden"),R(g.tContTable.querySelector(".t_cont_table_row.zones"),Ee.showZones),q(g.hour),q(g.minutes),q(g.seconds),j(g.hour,s,a&&2===a.length?a[1]:!1),j(g.minutes,l),j(g.seconds,u),He&&(e=He.getHours()<10?"0"+He.getHours().toString():He.getHours().toString(),t=He.getMinutes()<10?"0"+He.getMinutes().toString():He.getMinutes().toString(),n=He.getSeconds()<10?"0"+He.getSeconds().toString():He.getSeconds().toString(),g.timeText.innerHTML=Y.toStringFormat(He,Ee.timeFormat),g.hour.value=e,g.minutes.value=t,g.seconds.value=n),g.hour.onchange=F,g.minutes.onchange=F,g.seconds.onchange=F,!0},datetime:function(e){return te.date(e),te.time(),ee(),R(g.timeContainer),R(g.myTab),R(g.scheduler),!0}}}(),ne=function(e,t){var n=e.getDate(),a=e.getMonth(),o=Ee.monthNames[a],i=!1,r=function(){var e,t=[],n=c.length;for(e=0;n>e;e++)t.push(O(c[e],Ee.monthNames));return t}(),h=e.getFullYear(),m=h.toString(),g=!1,f=e.getHours()<10?"0"+e.getHours().toString():e.getHours().toString(),p=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes().toString(),y=e.getSeconds()<10?"0"+e.getSeconds().toString():e.getSeconds().toString(),v=e.getMilliseconds()||0,C=function(e,t){var n,a=e.length;if(t<=e[0])return{min:e[0],max:e[1]};if(t>=e[a-1])return{min:e[a-2],max:e[a-1]};for(n=0;a>n;n++)if(t<e[n])return{min:e[n-1],max:e[n]}},b=function(e){return function(t){return t===e}};if(null===O(o,c)&&(i=!0),d.some(b(m))||(g=!0),s.some(b(f))||(f=C(s,f),f=void 0!==typeof t&&t?f.min:f.max),l.some(b(p))||(p=C(l,p),p="undefined"!=typeof t&&t?p.min:p.max),u.some(b(y))||(y=C(u,y),y="undefined"!=typeof t&&t?y.min:y.max),"undefined"!=typeof t&&t){if(i&&g||!i&&g)return a=r[r.length-1],h=C(d,h).min,!i&&g&&h==d[0]&&(a=r[0]),new Date(h,a,n,f,p,y);i&&!g&&(a=C(r,a).min)}else{if(i&&g||!i&&g)return a=r[0],h=C(d,h).max,!i&&g&&h==d[d.length-1]&&(a=r[r.length-1]),new Date(h,a,n,f,p,y);i&&!g&&(a=C(r,a).max)}return new Date(h,a,n,f,p,y,v)},ae=function(e,t){var n,a=function(e){var t,n=new Date(e);return"object"==typeof n&&n&&!isNaN(n)&&(t=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCMilliseconds())),t},o="object"==typeof e?e:a(e);"object"==typeof o&&o&&!isNaN(o)&&(n=ne(o),n.getTime()!==o.getTime()?!Ee.autoCorrectDate||He&&n.getTime()===He.getTime()||h.trigger("onChangeDate",He,n):He&&n.getTime()===He.getTime()||h.trigger("onChangeDate",He,n),t&&t())},oe=function(){A(g.mainContainer,{display:"none"})},ie=function(e){A(g.mainContainer,{display:"block"}),e=e||i;var t,n,a,o=m.getBoundingClientRect(),r=g.mainContainer.getBoundingClientRect(),s=e.getBoundingClientRect();a={top:0-m.scrollTop,left:0-m.scrollLeft},t=s.bottom-a.top,n=s.left-a.left,t+r.height>o.height&&(t=s.top-r.height>=0?s.top-r.height:o.height-2-r.height),n+r.width>o.width&&(n=o.width-2-r.width),A(g.mainContainer,{top:t+"px",left:n+"px"})},re=function(){return"block"===g.mainContainer.style.display},se=function(e){e.preventDefault(),h.trigger("onShowPicker")},le=function(e){return-1!==Object.prototype.toString.call(e).indexOf("Array")},ue=function(e){return-1!==Object.prototype.toString.call(e).indexOf("Object")},ce=function(){var e,t,n,a,o,i=arguments.length,r=!1,s=arguments[0],l=1;for("boolean"==typeof s&&(r=s,s=arguments[1],l++);l!==i;){for(e=arguments[l],t=Object.keys(e),o=0;o<t.length;o++)n=e[t[o]],r&&(ue(n)||le(n))?(a=s[t[o]]=s[t[o]]||(le(n)?[]:{}),ce(r,a,n)):s[t[o]]=e[t[o]];l++}return s},de=function(){g=document.querySelector(".datepicker_main_container").objects},he=function(){T(),_(),L(),H(),N(),D(),Q(!0)},me=function(e){var t,n=i,a=e?"add":"remove";if(e){I(i,"hasDatePicker");for(t in Ee.on)Ee.on.hasOwnProperty(t)&&h.on(t,Ee.on[t]);h.on("onHidePicker",ge),h.on("onShowPicker",fe),h.on("onChangeDate",pe)}else{Z(i,"hasDatePicker");for(t in Ee.on)Ee.on.hasOwnProperty(t)&&h.off(t,Ee.on[t]);h.off("onHidePicker",ge),h.off("onShowPicker",fe),h.off("onChangeDate",pe)}"ontouchstart"in document.documentElement?(n[a+"EventListener"]("touchstart",se),n[a+"EventListener"]("touchend",se),n[a+"EventListener"]("focus",se),n[a+"EventListener"]("input",ye),n[a+"EventListener"]("change",ve)):(n[a+"EventListener"]("input",ye),n[a+"EventListener"]("change",ve),n[a+"EventListener"]("click",Ce),n[a+"EventListener"]("focus",Ce),n[a+"EventListener"]("blur",be))},ge=function(){oe()},fe=function(){var e,t,n,a;g.mainContainer.currentInput=i,He?te[Ee.type]():(q(g.hour),q(g.minutes),q(g.seconds),we(),e=""===g.hour.value?0:s[0],t=""===g.minutes.value?0:l[0],n=""===g.seconds.value?0:u[0],a=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate(),e,t,n),ae(ne(a))),ie()},pe=function(e,t){var n=Y.toStringFormat(t,Ee[Ee.type+"Format"]);He=t,i.value!==n&&(i.value=n),g.mainContainer.currentInput&&g.mainContainer.currentInput!==i||te[Ee.type](t),h.trigger("onAfterChangeDate",e,t)},ye=function(e){e.preventDefault(),g.mainContainer.inputElemntLast=this;var t,n=this.value.trim(),a=new Date(n),o=Ee[Ee.type+"Format"];return a&&!isNaN(a)&&null!==a||!/[^\/\s\d:\.-]/.test(n)||/tt|TT|T|t|MMMM|MMM|dddd|ddd/.test(o)?(t=Y.fromStringFormat(n,o),void(isNaN(t)||null===t||ae(t,function(){h.trigger("onChange")}))):void(this.value=n.replace(/[^\/\s\d:\.-]/gi,"").trim())},ve=function(){var e,t=this.value;g.mainContainer.inputElemntLast=this,e=Y.fromStringFormat(t,Ee[Ee.type+"Format"]),ae(e,function(){h.trigger("onChange")})},Ce=function(e){g.mainContainer.inputElemntLast=this,("focus"!==e.type||g.mainContainer.currentInput!==this)&&(r=this,He&&$(!0),h.trigger("onShowPicker"))},be=function(){},Se=function(){me(!1),g.mainContainer.amount-1===0&&(m.removeChild(g.mainContainer),Q(!1)),g.mainContainer.amount-=1,delete i.datepicker,Ne=!0},we=function(){c=z(Ee.rangeMonths),d=U(Ee.rangeYears),s=W(Le,Ee.stepHours),l=W(Pe,Ee.stepMinutes),u=W(Pe,Ee.stepSeconds)},Me=function(){for(var e,t=[],n=0;60>n;n++)e=10>n?"0"+n.toString():n.toString(),t.push(e);return t},Te=function(){for(var e,t=[],n=0;24>n;n++)e=10>n?"0"+n.toString():n.toString(),t.push(e);return t},_e=function(e){var t,n={},a=typeof e;if("undefined"===a)return Ee;if("string"===a)return e in Ee?Ee[e]:void 0;if("object"===a)for(t in e)e.hasOwnProperty(t)&&(e[t]in Ee?Ee.hasOwnProperty(e[t])&&(n[e[t]]=Ee[e[t]]):n[e[t]]=void 0);return n},ke=function(){He=null,i.value=""},De=function(e){var t=typeof e;return"undefined"===t?"undefined":"object"!==t?"undefined":(me(!1),ce(!1,Ee,e),me(!0),we(),ae(He),He&&(g.mainContainer.currentInput===i&&re()&&te[Ee.type](),$()),void 0)},Ne=!1,He=null,Le=Te(),Pe=Me(),xe=o(new Date),Ee={dateFormat:"dd/MM/yy",timeFormat:"HH:mm:ss",datetimeFormat:"dd/MM/yy HH:mm:ss",type:"date",on:{},rangeMonths:0,rangeYears:"c-50:c+50",hourText:"Hours",startWeekOnMonday:!0,minutesText:"Minutes",secondsText:"Seconds",zoneText:"Zone",timeText:"Time",currentText:"Now",closeText:"Done",showButtonPanel:!1,showNowButton:!0,showSiblingMonthsDays:!1,changeDateOnClickNewYear:!1,minDayNames:["Su","Mo","Tu","We","Th","Fr","St"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],autoCorrectDate:!0,selectingMonth:!0,selectingYear:!0,shortYearCutoff:50,stepMinutes:0,stepSeconds:0,stepHours:0,showSeconds:!1,showZones:!1};return h.on=function(e,t){this._eventHandlers||(this._eventHandlers=[]),this._eventHandlers[e]||(this._eventHandlers[e]=[]),this._eventHandlers[e].push(t)},h.off=function(e,t){var n,a,o=this._eventHandlers[e];if(o)for(a=o.length,n=0;a>n;n++)o[n]==t&&o.splice(n--,1)},h.trigger=function(e){var t,n,a=this._eventHandlers[e];if(a)for(n=a.length,t=0;n>t;t++)a[t].apply(this,[].slice.call(arguments,1))},ce(!1,Ee,t||{}),M(),i&&i.datepicker?i.datepicker:(g.mainContainer||(document.querySelectorAll(".datepicker_main_container").length<1?(he(),g.mainContainer.objects=g,g.mainContainer.amount=1):(de(),g.mainContainer.amount+=1)),me(!0),we(),i?(i.datepicker={attachEvent:function(e,t){Ne||h.on(e,t)},detachEvent:function(e,t){Ne||h.off(e,t)},hide:function(){Ne||h.trigger("onHidePicker")},show:function(){Ne||h.trigger("onShowPicker")},setDate:function(e){Ne||ae(e)},getDate:function(){return Ne?void 0:He},getOptions:function(e){return Ne?void 0:_e(e)},setOptions:function(e){Ne||De(e)},clear:function(){Ne||ke()},destroy:function(){return Ne||Se(),Ne}},i.datepicker):void 0)};if(window.datepicker)throw new Error("datepicker is already exist");window.datepicker=function(t,n,a,o,i){return new e(t,n,a,o,i)}}(window);